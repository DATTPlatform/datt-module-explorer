(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c4379a1"],{2209:function(t,e,a){},"2f21":function(t,e,a){"use strict";var s=a("79e5");t.exports=function(t,e){return!!t&&s(function(){e?t.call(null,function(){},1):t.call(null)})}},"35a4":function(t,e,a){},"41ac":function(t,e,a){"use strict";var s=a("35a4"),n=a.n(s);n.a},"456d":function(t,e,a){var s=a("4bf8"),n=a("0d58");a("5eda")("keys",function(){return function(t){return n(s(t))}})},"4ec4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.$t(t.typeName+"."+t.value)},on:{input:function(e){t.change(e)}}},t._l(t.typeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:t.$t(t.typeName+"."+e.label),value:e.value}})}),1)},n=[],i={props:{value:{default:0},typeOptions:{type:Array,default:function(){return[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"},{value:"26",label:"26"}]}},typeName:{type:String,default:"type"}},methods:{change:function(t){this.$emit("change",t)}}},o=i,l=a("2877"),r=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=r.exports},"55dd":function(t,e,a){"use strict";var s=a("5ca1"),n=a("d8e8"),i=a("4bf8"),o=a("79e5"),l=[].sort,r=[1,2,3];s(s.P+s.F*(o(function(){r.sort(void 0)})||!o(function(){r.sort(null)})||!a("2f21")(l)),"Array",{sort:function(t){return void 0===t?l.call(i(this)):l.call(i(this),n(t))}})},"5eda":function(t,e,a){var s=a("5ca1"),n=a("8378"),i=a("79e5");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],o={};o[t]=e(a),s(s.S+s.F*i(function(){a(1)}),"Object",o)}},"64c7":function(t,e,a){"use strict";var s=a("2209"),n=a.n(s);n.a},"67b0":function(t,e,a){"use strict";var s=a("6aeb"),n=a.n(s);n.a},"6aeb":function(t,e,a){},"7f7f":function(t,e,a){var s=a("86cc").f,n=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in n||a("9e1e")&&s(n,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"89d1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paging"},[a("el-pagination",{staticClass:"pages",attrs:{background:"",small:"",layout:"total,prev, pager, next, jumper",total:t.pager.total,"current-page":t.pager.page,"page-size":t.pager.rows,"pager-count":5},on:{"update:currentPage":function(e){t.$set(t.pager,"page",e)},"size-change":t.onChangeSize,"current-change":t.onChangePage}})],1)},n=[],i={props:["pager"],computed:{total:function(){return this.pager.total},initBack:function(){return this.pager.total/this.pager.rows<this.pager.page}},watch:{total:function(){this.initBack&&(this.pager.page-=1,this.$emit("change"))}},methods:{onChangeSize:function(t){this.pager.rows=t,this.$emit("change")},onChangePage:function(t){this.pager.page=t,this.$emit("change")}}},o=i,l=(a("41ac"),a("2877")),r=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=r.exports},c5cc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"consensus"},[a("div",{staticClass:"top-chart w1200 "},[a("div",{staticClass:"chart_title"},[a("h2",{staticClass:"fl font18"},[t._v(t._s(t.$t("consensus.consensus0")))]),a("div",{staticClass:"fr"},[a("div",{staticClass:"font16"},[a("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("home.home4"))+":")]),t._v(" "+t._s(t.circulation)+"K\n          "),a("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("home.home2"))+":")]),t._v(" "+t._s(t.consensusTotal)+"K\n          "),a("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("consensus.consensus1"))+":")]),t._v(" "+t._s(t.nodeing)+"\n          "),a("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("home.home1"))+":")]),t._v(" "+t._s(t.node)+"\n        ")]),a("div",{staticClass:"chart_bt"},[a("div",{staticClass:"chart_bt1"},[a("el-button",{staticClass:"btn capitalize",class:1===t.timeRate?"btn_N":"",attrs:{type:"text"},on:{click:function(e){t.changeDate(1)}}},[t._v("\n              "+t._s(t.$t("public.week"))+"\n            ")]),a("el-button",{staticClass:"btn capitalize",class:2===t.timeRate?"btn_N":"",attrs:{type:"text"},on:{click:function(e){t.changeDate(2)}}},[t._v("\n              "+t._s(t.$t("public.month"))+"\n            ")]),a("el-button",{staticClass:"btn capitalize",class:3===t.timeRate?"btn_N":"",attrs:{type:"text"},on:{click:function(e){t.changeDate(3)}}},[t._v("\n              "+t._s(t.$t("public.year"))+"\n            ")])],1)])])]),a("div",{staticClass:"chart_info"},[a("ve-line",{staticStyle:{top:"-20px"},attrs:{height:"330px",data:t.chartData,"legend-visible":!1,colors:t.colors,settings:t.chartSettings,loading:t.timeRateDataLoading}})],1)]),a("div",{staticClass:"info bg-gray"},[a("el-tabs",{staticClass:"w1200 tab_consensus",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:t.$t("consensus.consensus2"),name:"first"}},[a("ConsensusList")],1),a("el-tab-pane",{attrs:{label:t.$t("consensus.consensus3"),name:"second"}},[a("div",{staticClass:"cards"},[a("ul",{staticClass:"cards-ul"},[a("li",{staticClass:"cards-li fl"},[a("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus4")))]),a("h5",{staticClass:"font18 fW600 tc"},[t._v(t._s(t.roundInfo.index))])]),a("li",{staticClass:"cards-li fl"},[a("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus5")))]),a("h5",{staticClass:"font18 fW600 tc fCN"},[t._v(t._s(t.roundInfo.names))])]),a("li",{staticClass:"cards-li fl"},[a("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus6")))]),a("h5",{staticClass:"font18 fW600 tc"},[t._v(t._s(t.roundInfo.memberCount))])]),a("li",{staticClass:"cards-li fl"},[a("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus7")))]),a("h5",{staticClass:"font18 fW600 tc"},[t._v(t._s(t.roundInfo.startTime)+"--"+t._s(t.roundInfo.endTime))])])])]),a("div",{staticClass:"cards-title font14 cb"},[t._v(t._s(t.$t("consensus.consensus8")))]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.roundListLoading,expression:"roundListLoading"}],staticStyle:{width:"100%"},attrs:{data:t.roundList,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"",width:"30"}}),a("el-table-column",{attrs:{label:t.$t("public.round"),width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{staticClass:"click",attrs:{tag:"a",to:{name:"rotationInfo",query:{rotation:e.row.index}}}},[t._v("\n                "+t._s(e.row.index)+"\n              ")])]}}])}),a("el-table-column",{attrs:{label:t.$t("consensus.consensus9"),"min-width":"280",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.startTime)+"----"+t._s(e.row.endTime))])]}}])}),a("el-table-column",{attrs:{prop:"memberCount",label:t.$t("consensus.consensus10"),width:"150",align:"left"}}),a("el-table-column",{attrs:{label:t.$t("public.yellowCard")+"/"+t.$t("public.redCard"),width:"180",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.yellowCardCount)+"-"+t._s(e.row.redCardCount))])]}}])}),a("el-table-column",{attrs:{prop:"producedBlockCount",label:t.$t("consensus.consensus11"),width:"150",align:"left"}}),a("el-table-column",{attrs:{prop:"lostRate",label:t.$t("public.lostRate"),width:"150",align:"left"}})],1),a("paging",{directives:[{name:"show",rawName:"v-show",value:t.pager.total>t.pager.rows,expression:"pager.total > pager.rows"}],attrs:{pager:t.pager},on:{change:t.pagesList}})],1)],1)],1)])},n=[],i=(a("96cf"),a("3b8d")),o=(a("ac4d"),a("8a81"),a("ac6a"),a("7f7f"),a("c32d")),l=a.n(o),r=a("901e"),c=a("89d1"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.nodeListLoading,expression:"nodeListLoading"}],staticClass:"c_list"},[a("div",{staticClass:"c_list_search"},[a("div",{staticClass:"type_select fl"},[a("SelectBar",{attrs:{typeOptions:t.nodeTypeOptions,typeName:"nodeType"},on:{change:t.changeNodeType},model:{value:t.nodeTypeRegion,callback:function(e){t.nodeTypeRegion=e},expression:"nodeTypeRegion"}})],1),a("div",{staticClass:"status_select fl"},[a("SelectBar",{attrs:{typeOptions:t.nodeStatusOptions,typeName:"nodeStatus"},on:{change:t.changeNodeStatus},model:{value:t.nodeStatusRegion,callback:function(e){t.nodeStatusRegion=e},expression:"nodeStatusRegion"}})],1),a("div",{staticClass:"search_input"},[a("el-input",{staticClass:"search",attrs:{placeholder:t.$t("consensus.search"),"suffix-icon":"el-icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),a("i",{staticClass:"iconfont fr click",class:t.viewList?"icon-list_icon":"icon-chart_icon",on:{click:function(e){t.viewList=!t.viewList}}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.viewList,expression:"!viewList"}],staticClass:"c_tabs"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.searchData,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"",width:"30"}}),a("el-table-column",{attrs:{label:"ID","min-width":"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"cursor-p click uppercase",on:{click:function(a){t.toUrl("consensusInfo",e.row.txHash)}}},[t._v(t._s(e.row.agentId))])]}}])}),a("el-table-column",{attrs:{label:t.$t("public.alias"),width:"250",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.agentAlias?e.row.agentAlias:"-"))])]}}])}),a("el-table-column",{attrs:{prop:"creditValue",label:t.$t("public.creditValue"),width:"150",align:"left"}}),a("el-table-column",{attrs:{label:t.$t("public.proportion"),width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.commissionRate)+"%")]}}])}),a("el-table-column",{attrs:{label:t.$t("public.bond")+"("+t.symbol+")",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deposit))]}}])}),a("el-table-column",{attrs:{label:t.$t("public.entrust")+"("+t.symbol+")",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"cursor-p click uppercase",on:{click:function(a){t.toUrl("consensusInfo",e.row.txHash,"three")}}},[t._v(t._s(e.row.totalDeposit))])]}}])}),a("el-table-column",{attrs:{prop:"depositCount",label:t.$t("public.participants"),width:"150",align:"left"}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.viewList,expression:"viewList"}],staticClass:"card-info"},t._l(t.searchData,function(e){return a("div",{key:e.agentId,staticClass:"card fl click",on:{click:function(a){t.toUrl("consensusInfo",e.txHash)}}},[a("h3",{staticClass:"tabs_title tabs_infos",class:e.agentAlias?"":"uppercase"},[t._v("\n        "+t._s(e.agentAlias?e.agentAlias:e.agentId)+"\n        "),a("i",{staticClass:"iconfont fr font18",class:"0"!==e.status.toString()?"icon-consensus_icon":"icon-wait_red_icon"})]),a("ul",[a("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.alias"))),a("span",{staticClass:"fr"},[t._v(t._s(e.agentAlias?e.agentAlias:"-"))])]),a("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.proportion"))),a("span",{staticClass:"fr"},[t._v(t._s(e.commissionRate)+"%")])]),a("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.bond"))),a("span",{staticClass:"fr"},[t._v(t._s(e.deposit)),a("label",{staticClass:"fCN"},[t._v(" "+t._s(t.symbol))])])]),a("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.participants"))),a("span",{staticClass:"fr"},[t._v(t._s(e.depositCount))])]),a("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.entrust"))),a("span",{staticClass:"fr"},[t._v(t._s(e.totalDeposit)),a("label",{staticClass:"fCN"},[t._v(" "+t._s(t.symbol))])])]),a("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.creditValue"))),a("span",{staticClass:"fr"},[t._v(t._s(e.creditValue))])])])])}),0)])},d=[],p=(a("55dd"),a("c5f6"),a("456d"),a("4ec4")),f=a("6ace"),h={data:function(){return{viewList:!0,nodeTypeOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"}],nodeTypeRegion:0,nodeStatusOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],nodeStatusRegion:0,nodeList:[],nodeListLoading:!0,searchValue:"",pager:{total:0,page:1,rows:200},symbol:sessionStorage.hasOwnProperty("symbol")?sessionStorage.getItem("symbol"):"DATT"}},components:{SelectBar:p["a"]},created:function(){this.getConsensusNodes(this.pager.page,this.pager.rows,this.nodeStatusRegion)},computed:{searchData:function(){var t=this.searchValue;return t?this.nodeList.filter(function(e){return Object.keys(e).some(function(a){return String(e[a]).toLowerCase().indexOf(t.toLowerCase())>-1})}):this.nodeList}},methods:{getConsensusNodes:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a,s){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$post("/","getConsensusNodes",[e,a,s]).then(function(t){if(t.hasOwnProperty("result")){var e=!0,a=!1,s=void 0;try{for(var i,o=t.result.list[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var l=i.value;l.deposit=Object(f["h"])(l.deposit,8),l.bozhengjin=l.deposit,l.totalDeposit=Number(Object(f["h"])(l.totalDeposit,8)).toFixed(2)}}catch(r){a=!0,s=r}finally{try{e||null==o.return||o.return()}finally{if(a)throw s}}n.nodeList=t.result.list,n.nodeListLoading=!1}else console.log(t)}).catch(function(t){n.getConsensusNodes(e,a,s),console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(e,a,s){return t.apply(this,arguments)}return e}(),toUrl:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"first";this.$router.push({name:t,query:{hash:e,tabName:a}})},changeNodeType:function(t){switch(this.nodeTypeRegion=parseInt(t),t){case 1:this.nodeTypeSort(this.nodeList,"creditValue");break;case 2:this.nodeTypeSort(this.nodeList,"commissionRate");break;case 3:this.nodeTypeSort(this.nodeList,"totalDeposit");break;case 4:this.nodeTypeSort(this.nodeList,"bozhengjin");break;default:this.getConsensusNodes(this.pager.page,this.pager.rows,0,"")}},changeNodeStatus:function(t){this.nodeStatusRegion=t,this.getConsensusNodes(this.pager.page,this.pager.rows,this.nodeStatusRegion)},nodeTypeSort:function(t,e){var a=function(t){return function(e,a){var s=e[t],n=a[t];return isNaN(Number(s))||isNaN(Number(n))||(s=Number(s),n=Number(n)),s>n?-1:s<n?1:0}};return t.sort(a(e))}}},v=h,g=(a("67b0"),a("2877")),b=Object(g["a"])(v,u,d,!1,null,null,null),m=b.exports,_={data:function(){return this.colors=["#7db46d","#7db46d","#7db46d","#546570","#c4ccd3"],this.chartSettings={yAxisType:["normal"],labelMap:{value:this.$t("public.stake")}},{circulation:0,consensusTotal:0,nodeing:0,node:0,chartData:{columns:[],rows:[]},timeRateDataLoading:!0,timeRate:2,activeName:"first",roundInfo:[],roundList:[],roundListLoading:!1,pager:{total:0,page:1,rows:5}}},components:{ConsensusList:m,paging:c["a"]},created:function(){this.getYearRateData(2),this.getRoundInfo(),this.getRoundList(this.pager.page,this.pager.rows)},mounted:function(){var t=this;setInterval(function(){var e=new r["BigNumber"](Object(f["h"])(t.$store.state.NULSNumber.circulation,11));t.circulation=e.toFormat(2);var a=new r["BigNumber"](Object(f["h"])(t.$store.state.NULSNumber.consensusTotal,11));t.consensusTotal=a.toFormat(2),t.nodeing=t.$store.state.nodeNumber.consensusCount,t.node=t.$store.state.nodeNumber.agentCount},100)},beforeRouteLeave:function(t,e,a){"rotationInfo"===t.name?e.meta.keepAlive=!0:e.meta.keepAlive=!1,a()},methods:{getYearRateData:function(t){var e=this;this.$post("/","getConsensusStatistical",[t]).then(function(t){if(t.hasOwnProperty("result")){var a=!0,s=!1,n=void 0;try{for(var i,o=t.result[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;l.value=l.value/1e8}}catch(r){s=!0,n=r}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}e.chartData.columns=["key","value"],e.chartData.rows=t.result,e.timeRateDataLoading=!1}})},changeDate:function(t){this.timeRateDataLoading=!0,this.chartData.columns=[],this.chartData.rows=[],this.timeRate=t,this.getYearRateData(t)},handleClick:function(){this.pager.total=0,this.pager.page=1},getRoundInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$post("/","getBestRoundInfo",[]).then(function(t){t.hasOwnProperty("result")?(t.result.startTime=l()(Object(f["e"])(1e3*t.result.startTime)).format("HH:mm:ss"),t.result.endTime=l()(Object(f["e"])(1e3*t.result.endTime)).format("HH:mm:ss"),t.result.names=t.result.startBlockHeader.agentAlias?t.result.startBlockHeader.agentAlias:Object(f["f"])(t.result.startBlockHeader.agentId,8),e.roundInfo=t.result):(console.log(t),e.getRoundInfo())}).catch(function(t){e.getRoundInfo(),console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getRoundList:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,a){var s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.roundListLoading=!0,this.$post("/","getRoundList",[e,a]).then(function(t){if(t.hasOwnProperty("result")){var e=!0,a=!1,n=void 0;try{for(var i,o=t.result.list[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var r=i.value;r.startTime=l()(Object(f["e"])(1e3*r.startTime)).format("YYYY-MM-DD HH:mm:ss"),r.endTime=l()(Object(f["e"])(1e3*r.endTime)).format("YYYY-MM-DD HH:mm:ss")}}catch(c){a=!0,n=c}finally{try{e||null==o.return||o.return()}finally{if(a)throw n}}s.roundList=t.result.list,s.pager.total=t.result.totalCount,s.roundListLoading=!1}}).catch(function(t){console.log(t)});case 2:case"end":return t.stop()}},t,this)}));function e(e,a){return t.apply(this,arguments)}return e}(),pagesList:function(){this.getRoundList(this.pager.page,this.pager.rows)},toUrl:function(t,e){this.$router.push({name:t,query:{rotation:e}})}}},w=_,C=(a("64c7"),Object(g["a"])(w,s,n,!1,null,null,null));e["default"]=C.exports}}]);